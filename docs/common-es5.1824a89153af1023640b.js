!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,r=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(n=(c=o.next()).done)&&(i.push(c.value),!e||i.length!==e);n=!0);}catch(s){r=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return i}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"2Mw2":function(t,e,i){"use strict";i.d(e,"b",function(){return f}),i.d(e,"a",function(){return l});var n,a,o=i("ofXK"),s=i("A47K"),u=i("fXoL"),l=((a=function(){function t(e){r(this,t),this.apiService=e}return c(t,[{key:"followUser",value:function(t){return this.apiService.post("/profiles/"+t+"/follow",null)}},{key:"unfollowUser",value:function(t){return this.apiService.delete("/profiles/"+t+"/follow")}},{key:"favorite",value:function(t){return this.apiService.post("/articles/"+t+"/favorite",null)}},{key:"unfavorite",value:function(t){return this.apiService.delete("/articles/"+t+"/favorite")}}]),t}()).\u0275fac=function(t){return new(t||a)(u.Qb(s.b))},a.\u0275prov=u.Eb({token:a,factory:a.\u0275fac}),a),f=((n=function t(){r(this,t)}).\u0275mod=u.Gb({type:n}),n.\u0275inj=u.Fb({factory:function(t){return new(t||n)},providers:[l],imports:[[o.c]]}),n)},CWEr:function(t,i,n){"use strict";n.d(i,"b",function(){return P}),n.d(i,"c",function(){return w.b}),n.d(i,"d",function(){return C.g}),n.d(i,"a",function(){return k.a});var a,o,s,u=n("2Mw2"),l=n("ofXK"),f=n("tyNb"),b=n("9jGm"),g=n("l7P3"),d=n("LRne"),p=n("lJxs"),v=n("zp1y"),j=n("bOdf"),O=n("JIr8"),h=n("A47K"),y=n("tk/3"),m=n("fXoL"),L=((a=function(){function t(e){r(this,t),this.apiService=e}return c(t,[{key:"query",value:function(t){return this.apiService.get("/articles"+("FEED"===t.type?"/feed":""),this.toHttpParams(t.filters))}},{key:"toHttpParams",value:function(t){return Object.getOwnPropertyNames(t).reduce(function(e,i){return e.set(i,t[i])},new y.f)}}]),t}()).\u0275fac=function(t){return new(t||a)(m.Qb(h.b))},a.\u0275prov=m.Eb({token:a,factory:a.\u0275fac}),a),C=n("r9Q6"),k=n("j47y"),A=((o=function t(i,n,a,c){var o=this;r(this,t),this.actions$=i,this.articleListService=n,this.actionsService=a,this.facade=c,this.setListPage=Object(b.c)(function(){return o.actions$.pipe(Object(b.d)(C.h),Object(p.a)(function(){return C.d()}))}),this.setListTag=Object(b.c)(function(){return o.actions$.pipe(Object(b.d)(C.g),Object(p.a)(function(){return C.d()}))}),this.loadArticles=Object(b.c)(function(){return o.actions$.pipe(Object(b.d)(C.d),Object(v.a)(o.facade.listConfig$),Object(j.a)(function(t){var i=e(t,2),n=(i[0],i[1]);return o.articleListService.query(n).pipe(Object(p.a)(function(t){return C.f({articles:t.articles,articlesCount:t.articlesCount})}),Object(O.a)(function(t){return Object(d.a)(C.e({error:t}))}))}))}),this.favorite=Object(b.c)(function(){return o.actions$.pipe(Object(b.d)(C.a),Object(p.a)(function(t){return t.slug}),Object(j.a)(function(t){return o.actionsService.favorite(t).pipe(Object(p.a)(function(t){return C.c({article:t.article})}),Object(O.a)(function(t){return Object(d.a)(C.b(t))}))}))}),this.unFavorite=Object(b.c)(function(){return o.actions$.pipe(Object(b.d)(C.i),Object(p.a)(function(t){return t.slug}),Object(j.a)(function(t){return o.actionsService.unfavorite(t).pipe(Object(p.a)(function(t){return C.k({article:t.article})}),Object(O.a)(function(t){return Object(d.a)(C.j(t))}))}))})}).\u0275fac=function(t){return new(t||o)(m.Qb(b.a),m.Qb(L),m.Qb(u.a),m.Qb(k.a))},o.\u0275prov=m.Eb({token:o,factory:o.\u0275fac}),o),w=n("hZaa"),P=((s=function t(){r(this,t)}).\u0275mod=m.Gb({type:s}),s.\u0275inj=m.Fb({factory:function(t){return new(t||s)},providers:[L,A,k.a],imports:[[l.c,u.b,f.h,g.j.forFeature(w.a,w.c,{initialState:w.b}),b.b.forFeature([A])]]}),s)},hZaa:function(e,i,n){"use strict";n.d(i,"a",function(){return c}),n.d(i,"b",function(){return o}),n.d(i,"c",function(){return u});var r=n("l7P3"),a=n("r9Q6"),c="articles-list",o={listConfig:{type:"ALL",currentPage:1,filters:{limit:10}},articles:{entities:[],articlesCount:0,loaded:!1,loading:!1}},s=Object(r.p)(o,Object(r.r)(a.h,function(t,e){var i=Object.assign(Object.assign({},t.listConfig.filters),{offset:t.listConfig.filters.limit*(e.page-1)}),n=Object.assign(Object.assign({},t.listConfig),{currentPage:e.page,filters:i});return Object.assign(Object.assign({},t),{listConfig:n})}),Object(r.r)(a.g,function(t,e){return Object.assign(Object.assign({},t),{listConfig:e.config})}),Object(r.r)(a.d,function(t,e){var i=Object.assign(Object.assign({},t.articles),{loading:!0});return Object.assign(Object.assign({},t),{articles:i})}),Object(r.r)(a.f,function(t,e){var i=Object.assign(Object.assign({},t.articles),{entities:e.articles,articlesCount:e.articlesCount,loading:!1,loaded:!0});return Object.assign(Object.assign({},t),{articles:i})}),Object(r.r)(a.e,function(t,e){var i=Object.assign(Object.assign({},t.articles),{entities:[],articlesCount:0,loading:!1,loaded:!0});return Object.assign(Object.assign({},t),{articles:i})}),Object(r.r)(a.k,a.c,function(e,i){return Object.assign(Object.assign({},e),{articles:(n=e.articles,r=i.article,a=n.entities.findIndex(function(t){return t.slug===r.slug}),c=[].concat(t(n.entities.slice(0,a)),[Object.assign({},n.entities[a],r)],t(n.entities.slice(a+1))),Object.assign(Object.assign({},n),{entities:c,loading:!1,loaded:!0}))});var n,r,a,c}));function u(t,e){return s(t,e)}},j47y:function(t,i,n){"use strict";n.d(i,"a",function(){return v});var a,o=n("l7P3"),s=n("hZaa"),u=Object(o.o)(s.a),l={getListConfig:Object(o.q)(u,function(t){return t.listConfig}),getArticles:Object(o.q)(u,function(t){return t.articles.entities}),getArticlesCount:Object(o.q)(u,function(t){return t.articles.articlesCount}),isLoading:Object(o.q)(u,function(t){return t.articles.loading})},f=n("r9Q6"),b=n("zp1y"),g=n("lJxs"),d=n("EdWO"),p=n("fXoL"),v=((a=function(){function t(i){r(this,t),this.store=i,this.articles$=this.store.select(l.getArticles),this.listConfig$=this.store.select(l.getListConfig),this.isLoading$=this.store.select(l.isLoading),this.articlesCount$=this.store.select(l.getArticlesCount),this.totalPages$=this.articlesCount$.pipe(Object(b.a)(this.listConfig$),Object(g.a)(function(t){var i=e(t,2),n=i[0],r=i[1];return Array.from(new Array(Math.ceil(n/r.filters.limit)),function(t,e){return e+1})}))}return c(t,[{key:"favorite",value:function(t){this.store.dispatch(f.a({slug:t}))}},{key:"unFavorite",value:function(t){this.store.dispatch(f.i({slug:t}))}},{key:"navigateToArticle",value:function(t){this.store.dispatch(Object(d.b)({to:{path:["/article",t]}}))}},{key:"setPage",value:function(t){this.store.dispatch(f.h({page:t}))}},{key:"setListConfig",value:function(t){this.store.dispatch(f.g({config:t}))}}]),t}()).\u0275fac=function(t){return new(t||a)(p.Qb(o.h))},a.\u0275prov=p.Eb({token:a,factory:a.\u0275fac}),a)},qm0p:function(t,e,i){"use strict";i.d(e,"a",function(){return y});var n=i("j47y"),a=i("fXoL"),o=i("ofXK"),s=function(t){return{active:t}};function u(t,e){if(1&t){var i=a.Nb();a.Mb(0,"li",2),a.Tb("click",function(){a.ec(i);var t=e.$implicit;return a.Vb().setPage.emit(t)}),a.Mb(1,"a",3),a.jc(2),a.Lb(),a.Lb()}if(2&t){var n=e.$implicit,r=a.Vb();a.Zb("ngClass",a.bc(2,s,n===r.currentPage)),a.yb(2),a.kc(n)}}var l,f=((l=function t(){r(this,t),this.setPage=new a.n}).\u0275fac=function(t){return new(t||l)},l.\u0275cmp=a.Cb({type:l,selectors:[["app-pager"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{setPage:"setPage"},decls:2,vars:1,consts:[[1,"pagination"],["class","page-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass","click"],[1,"page-link"]],template:function(t,e){1&t&&(a.Mb(0,"ul",0),a.ic(1,u,3,4,"li",1),a.Lb()),2&t&&(a.yb(1),a.Zb("ngForOf",e.totalPages))},directives:[o.k,o.j],styles:[".page-link[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),l),b=i("tyNb");function g(t,e){if(1&t&&(a.Mb(0,"li",12),a.jc(1),a.Lb()),2&t){var i=e.$implicit;a.yb(1),a.lc(" ",i," ")}}var d,p=function(t){return["/profile",t]},v=function(t,e){return{"btn-outline-primary":t,"btn-primary":e}},j=((d=function(){function t(){r(this,t),this.favorite=new a.n,this.unFavorite=new a.n,this.navigateToArticle=new a.n}return c(t,[{key:"toggleFavorite",value:function(t){t.favorited?this.unFavorite.emit(t.slug):this.favorite.emit(t.slug)}}]),t}()).\u0275fac=function(t){return new(t||d)},d.\u0275cmp=a.Cb({type:d,selectors:[["app-article-list-item"]],inputs:{article:"article"},outputs:{favorite:"favorite",unFavorite:"unFavorite",navigateToArticle:"navigateToArticle"},decls:23,vars:17,consts:[[1,"article-preview"],[1,"article-meta"],[3,"src"],[1,"info"],[1,"author",3,"routerLink"],[1,"date"],[1,"btn","btn-sm","pull-xs-right",3,"ngClass","click"],[1,"ion-heart"],[1,"preview-link",3,"click"],["data-e2e-id","article-list-title"],[1,"tag-list"],["class","tag-default tag-pill tag-outline",4,"ngFor","ngForOf"],[1,"tag-default","tag-pill","tag-outline"]],template:function(t,e){1&t&&(a.Mb(0,"div",0),a.Mb(1,"div",1),a.Mb(2,"a"),a.Jb(3,"img",2),a.Lb(),a.Mb(4,"div",3),a.Mb(5,"a",4),a.jc(6),a.Lb(),a.Mb(7,"span",5),a.jc(8),a.Wb(9,"date"),a.Lb(),a.Lb(),a.Mb(10,"button",6),a.Tb("click",function(){return e.toggleFavorite(e.article)}),a.Jb(11,"i",7),a.Mb(12,"div",3),a.jc(13),a.Lb(),a.Lb(),a.Lb(),a.Mb(14,"a",8),a.Tb("click",function(){return e.navigateToArticle.emit(e.article.slug)}),a.Mb(15,"h1",9),a.jc(16),a.Lb(),a.Mb(17,"p"),a.jc(18),a.Lb(),a.Mb(19,"span"),a.jc(20,"Read more..."),a.Lb(),a.Mb(21,"ul",10),a.ic(22,g,2,1,"li",11),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.yb(3),a.Zb("src",e.article.author.image,a.gc),a.yb(2),a.Zb("routerLink",a.bc(12,p,e.article.author.username)),a.yb(1),a.lc(" ",e.article.author.username," "),a.yb(2),a.lc(" ",a.Yb(9,9,e.article.createdAt,"longDate")," "),a.yb(2),a.Zb("ngClass",a.cc(14,v,!e.article.favorited,e.article.favorited)),a.yb(3),a.kc(e.article.favoritesCount),a.yb(3),a.kc(e.article.title),a.yb(2),a.kc(e.article.description),a.yb(4),a.Zb("ngForOf",e.article.tagList))},directives:[b.g,o.j,o.k],pipes:[o.e],styles:[""],changeDetection:0}),d);function O(t,e){if(1&t){var i=a.Nb();a.Mb(0,"app-article-list-item",3),a.Tb("navigateToArticle",function(t){return a.ec(i),a.Vb().navigateToArticle(t)})("unFavorite",function(t){return a.ec(i),a.Vb().unFavorite(t)})("favorite",function(t){return a.ec(i),a.Vb().favorite(t)}),a.Wb(1,"async"),a.Lb()}if(2&t){var n=e.$implicit,r=a.Vb();a.Zb("hidden",a.Xb(1,2,r.isLoading$))("article",n)}}var h,y=((h=function(){function t(e){r(this,t),this.facade=e}return c(t,[{key:"ngOnInit",value:function(){this.totalPages$=this.facade.totalPages$,this.articles$=this.facade.articles$,this.listConfig$=this.facade.listConfig$,this.isLoading$=this.facade.isLoading$}},{key:"favorite",value:function(t){this.facade.favorite(t)}},{key:"unFavorite",value:function(t){this.facade.unFavorite(t)}},{key:"navigateToArticle",value:function(t){this.facade.navigateToArticle(t)}},{key:"setPage",value:function(t){this.facade.setPage(t)}}]),t}()).\u0275fac=function(t){return new(t||h)(a.Ib(n.a))},h.\u0275cmp=a.Cb({type:h,selectors:[["app-article-list"]],decls:14,vars:22,consts:[[1,"app-article-preview",3,"hidden"],[3,"hidden","article","navigateToArticle","unFavorite","favorite",4,"ngFor","ngForOf"],[3,"hidden","currentPage","totalPages","setPage"],[3,"hidden","article","navigateToArticle","unFavorite","favorite"]],template:function(t,e){var i;(1&t&&(a.Mb(0,"div",0),a.Wb(1,"async"),a.jc(2," Loading articles...\n"),a.Lb(),a.Mb(3,"div",0),a.Wb(4,"async"),a.Wb(5,"async"),a.jc(6," No articles are here... yet.\n"),a.Lb(),a.ic(7,O,2,4,"app-article-list-item",1),a.Wb(8,"async"),a.Mb(9,"app-pager",2),a.Tb("setPage",function(t){return e.setPage(t)}),a.Wb(10,"async"),a.Wb(11,"async"),a.Wb(12,"async"),a.Wb(13,"async"),a.Lb()),2&t)&&(a.Zb("hidden",!1===a.Xb(1,6,e.isLoading$)),a.yb(3),a.Zb("hidden",a.Xb(4,8,e.isLoading$)||a.Xb(5,10,e.articles$).length>0),a.yb(4),a.Zb("ngForOf",a.Xb(8,12,e.articles$)),a.yb(2),a.Zb("hidden",(null==(i=a.Xb(10,14,e.totalPages$))?null:i.length)<=1||a.Xb(11,16,e.isLoading$))("currentPage",a.Xb(12,18,e.listConfig$).currentPage)("totalPages",a.Xb(13,20,e.totalPages$)))},directives:[o.k,f,j],pipes:[o.b],styles:[".app-article-preview[_ngcontent-%COMP%]{margin-top:1.5em}"],changeDetection:0}),h)},r9Q6:function(t,e,i){"use strict";i.d(e,"h",function(){return r}),i.d(e,"g",function(){return a}),i.d(e,"d",function(){return c}),i.d(e,"f",function(){return o}),i.d(e,"e",function(){return s}),i.d(e,"a",function(){return u}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return f}),i.d(e,"i",function(){return b}),i.d(e,"k",function(){return g}),i.d(e,"j",function(){return d});var n=i("l7P3"),r=Object(n.n)("[article-list] SET_LIST_PAGE",Object(n.s)()),a=Object(n.n)("[article-list] SET_LIST_CONFIG",Object(n.s)()),c=Object(n.n)("[article-list] LOAD_ARTICLES"),o=Object(n.n)("[article-list] LOAD_ARTICLES_SUCCESS",Object(n.s)()),s=Object(n.n)("[article-list] LOAD_ARTICLES_FAIL",Object(n.s)()),u=Object(n.n)("[article-list] FAVORITE",Object(n.s)()),l=Object(n.n)("[article-list] FAVORITE_SUCCESS",Object(n.s)()),f=Object(n.n)("[article-list] FAVORITE_FAIL",Object(n.s)()),b=Object(n.n)("[article-list] UNFAVORITE",Object(n.s)()),g=Object(n.n)("[article-list] UNFAVORITE_SUCCESS",Object(n.s)()),d=Object(n.n)("[article-list] UNFAVORITE_FAIL",Object(n.s)())}}])}();
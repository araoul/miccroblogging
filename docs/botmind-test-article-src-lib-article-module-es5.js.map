{"version":3,"sources":["webpack:///node_modules/marked/src/TextRenderer.js","webpack:///libs/shared/src/index.ts","webpack:///libs/article/src/lib/article.service.ts","webpack:///node_modules/marked/src/marked.js","webpack:///libs/article/src/lib/+state/article.effects.ts","webpack:///node_modules/marked/src/Parser.js","webpack:///libs/article/src/lib/+state/article.selectors.ts","webpack:///libs/article/src/lib/+state/article.actions.ts","webpack:///libs/article/src/lib/+state/article.facade.ts","webpack:///libs/article/src/lib/article-meta/article-meta.component.ts","webpack:///libs/article/src/lib/article-meta/article-meta.component.html","webpack:///libs/shared/src/lib/actions.service.ts","webpack:///node_modules/marked/src/Slugger.js","webpack:///libs/article/src/lib/article-guard.service.ts","webpack:///libs/article/src/lib/+state/article.reducer.ts","webpack:///node_modules/marked/src/Renderer.js","webpack:///node_modules/marked/src/Lexer.js","webpack:///libs/article/src/lib/article-comment/article-comment.component.ts","webpack:///libs/article/src/lib/article-comment/article-comment.component.html","webpack:///libs/shared/src/lib/shared.module.ts","webpack:///libs/article/src/lib/article.component.ts","webpack:///libs/article/src/lib/article.component.html","webpack:///node_modules/marked/src/rules.js","webpack:///libs/article/src/lib/article.module.ts","webpack:///node_modules/marked/src/InlineLexer.js","webpack:///libs/shared/src/lib/pager/pager.component.ts","webpack:///libs/shared/src/lib/pager/pager.component.html","webpack:///node_modules/marked/src/helpers.js","webpack:///libs/article/src/lib/add-comment/add-comment.component.ts","webpack:///libs/article/src/lib/add-comment/add-comment.component.html","webpack:///node_modules/marked/src/defaults.js","webpack:///libs/article/src/lib/markdown.pipe.ts"],"names":["module","exports","text","href","title","ArticleService","apiService","slug","get","commentId","payload","post","comment","body","Lexer","Parser","Renderer","TextRenderer","InlineLexer","Slugger","merge","checkSanitizeDeprecation","escape","getDefaults","changeDefaults","defaults","marked","src","opt","callback","Error","Object","prototype","toString","call","highlight","tokens","pending","i","lex","e","length","done","err","out","parse","token","type","lang","code","escaped","message","silent","options","setOptions","parser","lexer","inlineLexer","output","ArticleEffects","actions$","articleService","actionsService","ngrxFormsFacade","loadArticle","pipe","action","getArticle","response","article","error","loadComments","getComments","data","comments","deleteArticle","_","to","path","addComment","data$","structure$","structure","result","errors","deleteComment","follow","username","followUser","profile","unFollow","unfollowUser","favorite","unFavorite","unfavorite","unescape","renderer","slugger","inline","links","inlineText","reverse","next","tok","pop","peek","hr","heading","depth","header","row","cell","j","tablecell","align","tablerow","cells","table","blockquote","ordered","start","list","loose","checked","task","nextToken","checkbox","push","parseText","listitem","html","paragraph","errMsg","console","log","getArticleData","state","getArticleLoaded","loaded","getAuthorUsername","author","articleQuery","loadArticleSuccess","loadArticleFail","deleteArticleFail","initializeArticle","loadCommentsSuccess","loadCommentsFail","favoriteSuccess","favoriteFail","unFavoriteSuccess","unFavoriteFail","followSuccess","followFail","unFollowSuccess","unFollowFail","addCommentFail","addCommentSuccess","deleteCommentFail","deleteCommentSuccess","ArticleFacade","store","article$","select","comments$","articleLoaded$","authorUsername$","dispatch","ArticleMetaComponent","unfollow","favorited","emit","following","toggleFollow","toggleFavorite","selector","templateUrl","styleUrls","changeDetection","OnPush","isAuthenticated","canModify","ActionsService","seen","value","toLowerCase","trim","replace","hasOwnProperty","originalSlug","ArticleGuardService","facade","route","params","waitForArticleToLoad","articleFeatureKey","articleInitialState","description","tagList","createdAt","updatedAt","favoritesCount","bio","image","loading","reducer","filter","item","id","articleReducer","cleanUrl","infostring","match","langPrefix","quote","level","raw","headerIds","headerPrefix","xhtml","startatt","content","flags","tag","sanitize","baseUrl","block","rtrim","splitCells","create","rules","normal","pedantic","gfm","top","cap","bull","b","listStart","listItems","t","space","l","isordered","istask","ischecked","newline","exec","substring","lastToken","trimRight","codeBlockStyle","fences","nptable","split","test","indexOf","RegExp","bullet","smartLists","slice","join","charAt","undefined","pre","sanitizer","def","lheading","charCodeAt","ArticleCommentComponent","currentUser","SharedModule","imports","declarations","providers","name","placeholder","attrs","rows","ArticleComponent","authFacade","unsubscribe$","isAuthenticated$","isLoggedIn$","currentUser$","user$","touchedForm$","touched$","setStructure","setData","auth$","auth","loggedIn","subscribe","user","submit","changes","updateData","complete","noopTest","edit","_paragraph","_label","_title","getRegex","source","_tag","_comment","autolink","url","link","reflink","nolink","strong","em","br","del","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","breaks","ArticleModule","forChild","component","canActivate","forFeature","initialState","findClosingBracket","prevCapZero","inLink","inRawBlock","lastParenIndex","linkLen","outputLink","escapes","codespan","mangle","smartypants","ch","Math","random","setPage","PagerComponent","currentPage","totalPages","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","encode","unescapeTest","n","String","fromCharCode","parseInt","caret","regex","obj","val","nonWordAndColonTest","originIndependentUrl","base","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","relativeBase","target","key","arguments","tableRow","count","offset","str","curr","splice","c","invert","suffLen","currChar","substr","warn","AddCommentComponent","submitComment","updateForm","newDefaults","MarkdownPipe"],"mappings":"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","file":"botmind-test-article-src-lib-article-module-es5.js","sourcesContent":["/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n};\n","export { SharedModule } from './lib/shared.module';\r\nexport { ActionsService } from './lib/actions.service';\r\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ApiService, SingleArticleResponse } from '@botmind-test/api';\nimport { SingleCommentResponse, MultipleCommentsResponse } from './article.interfaces';\n\n@Injectable()\nexport class ArticleService {\n  constructor(private apiService: ApiService) {}\n\n  getArticle(slug: string): Observable<SingleArticleResponse> {\n    return this.apiService.get<SingleArticleResponse>('/articles/' + slug);\n  }\n\n  getComments(slug: string): Observable<MultipleCommentsResponse> {\n    return this.apiService.get<MultipleCommentsResponse>(`/articles/${slug}/comments`);\n  }\n\n  deleteArticle(slug: string): Observable<void> {\n    return this.apiService.delete<void>('/articles/' + slug);\n  }\n\n  deleteComment(commentId: number, slug: string): Observable<void> {\n    return this.apiService.delete<void>(`/articles/${slug}/comments/${commentId}`);\n  }\n\n  addComment(slug: string, payload = ''): Observable<SingleCommentResponse> {\n    return this.apiService.post<SingleCommentResponse, { comment: { body: string } }>(`/articles/${slug}/comments`, {\n      comment: { body: payload },\n    });\n  }\n}\n","const Lexer = require('./Lexer.js');\nconst Parser = require('./Parser.js');\nconst Renderer = require('./Renderer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst InlineLexer = require('./InlineLexer.js');\nconst Slugger = require('./Slugger.js');\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = require('./helpers.js');\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = require('./defaults.js');\n\n/**\n * Marked\n */\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    const highlight = opt.highlight;\n    let tokens,\n      pending,\n      i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    const done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      let out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\n\nmarked.defaults = defaults;\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nmodule.exports = marked;\n","import { ArticleService } from '../article.service';\nimport { ActionsService } from '@botmind-test/shared';\nimport { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { catchError, concatMap, exhaustMap, map, mergeMap, withLatestFrom } from 'rxjs/operators';\nimport * as ArticleActions from './article.actions';\n\nimport { NgrxFormsFacade, setErrors, resetForm } from '@botmind-test/ngrx-forms';\nimport { go } from '@botmind-test/ngrx-router';\n\n@Injectable()\nexport class ArticleEffects {\n  loadArticle = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.loadArticle),\n      concatMap((action) =>\n        this.articleService.getArticle(action.slug).pipe(\n          map((response) => ArticleActions.loadArticleSuccess({ article: response.article })),\n          catchError((error) => of(ArticleActions.loadArticleFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  loadComments = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.loadComments),\n      concatMap((action) =>\n        this.articleService.getComments(action.slug).pipe(\n          map((data) => ArticleActions.loadCommentsSuccess({ comments: data.comments })),\n          catchError((error) => of(ArticleActions.loadCommentsFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  deleteArticle = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.deleteArticle),\n      concatMap((action) =>\n        this.articleService.deleteArticle(action.slug).pipe(\n          map((_) => go({ to: { path: ['/'] } })),\n          catchError((error) => of(ArticleActions.deleteArticleFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  addComment = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.addComment),\n      map((action) => action.slug),\n      withLatestFrom(this.ngrxFormsFacade.data$, this.ngrxFormsFacade.structure$),\n      exhaustMap(([slug, data, structure]) =>\n        this.articleService.addComment(slug, data.comment).pipe(\n          mergeMap((response) => [ArticleActions.addCommentSuccess({ comment: response.comment }), resetForm()]),\n          catchError((result) => of(setErrors({ errors: result.error.errors }))),\n        ),\n      ),\n    ),\n  );\n\n  deleteComment = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.deleteComment),\n      concatMap((action) =>\n        this.articleService.deleteComment(action.commentId, action.slug).pipe(\n          map((_) => ArticleActions.deleteCommentSuccess({ commentId: action.commentId })),\n          catchError((error) => of(ArticleActions.deleteCommentFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  follow = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.follow),\n      map((action) => action.username),\n      concatMap((username) =>\n        this.actionsService.followUser(username).pipe(\n          map((response) => ArticleActions.followSuccess({ profile: response.profile })),\n          catchError((error) => of(ArticleActions.followFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  unFollow = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.unFollow),\n      map((action) => action.username),\n      concatMap((username) =>\n        this.actionsService.unfollowUser(username).pipe(\n          map((response) => ArticleActions.unFollowSuccess({ profile: response.profile })),\n          catchError((error) => of(ArticleActions.unFollowFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  favorite = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.favorite),\n      map((action) => action.slug),\n      concatMap((slug) =>\n        this.actionsService.favorite(slug).pipe(\n          map((response) => ArticleActions.favoriteSuccess({ article: response.article })),\n          catchError((error) => of(ArticleActions.favoriteFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  unFavorite = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ArticleActions.unFavorite),\n      map((action) => action.slug),\n      concatMap((slug) =>\n        this.actionsService.unfavorite(slug).pipe(\n          map((response) => ArticleActions.unFavoriteSuccess({ article: response.article })),\n          catchError((error) => of(ArticleActions.unFavoriteFail(error))),\n        ),\n      ),\n    ),\n  );\n\n  constructor(\n    private actions$: Actions,\n    private articleService: ArticleService,\n    private actionsService: ActionsService,\n    private ngrxFormsFacade: NgrxFormsFacade,\n  ) {}\n}\n","const Renderer = require('./Renderer.js');\nconst Slugger = require('./Slugger.js');\nconst InlineLexer = require('./InlineLexer.js');\nconst TextRenderer = require('./TextRenderer.js');\nconst { defaults } = require('./defaults.js');\nconst {\n  merge,\n  unescape\n} = require('./helpers.js');\n\n/**\n * Parsing & Compiling\n */\nmodule.exports = class Parser {\n  constructor(options) {\n    this.tokens = [];\n    this.token = null;\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.slugger = new Slugger();\n  }\n\n  /**\n   * Static Parse Method\n   */\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  };\n\n  /**\n   * Parse Loop\n   */\n  parse(tokens) {\n    this.inline = new InlineLexer(tokens.links, this.options);\n    // use an InlineLexer with a TextRenderer to extract pure text\n    this.inlineText = new InlineLexer(\n      tokens.links,\n      merge({}, this.options, { renderer: new TextRenderer() })\n    );\n    this.tokens = tokens.reverse();\n\n    let out = '';\n    while (this.next()) {\n      out += this.tok();\n    }\n\n    return out;\n  };\n\n  /**\n   * Next Token\n   */\n  next() {\n    this.token = this.tokens.pop();\n    return this.token;\n  };\n\n  /**\n   * Preview Next Token\n   */\n  peek() {\n    return this.tokens[this.tokens.length - 1] || 0;\n  };\n\n  /**\n   * Parse Text Tokens\n   */\n  parseText() {\n    let body = this.token.text;\n\n    while (this.peek().type === 'text') {\n      body += '\\n' + this.next().text;\n    }\n\n    return this.inline.output(body);\n  };\n\n  /**\n   * Parse Current Token\n   */\n  tok() {\n    let body = '';\n    switch (this.token.type) {\n      case 'space': {\n        return '';\n      }\n      case 'hr': {\n        return this.renderer.hr();\n      }\n      case 'heading': {\n        return this.renderer.heading(\n          this.inline.output(this.token.text),\n          this.token.depth,\n          unescape(this.inlineText.output(this.token.text)),\n          this.slugger);\n      }\n      case 'code': {\n        return this.renderer.code(this.token.text,\n          this.token.lang,\n          this.token.escaped);\n      }\n      case 'table': {\n        let header = '',\n          i,\n          row,\n          cell,\n          j;\n\n        // header\n        cell = '';\n        for (i = 0; i < this.token.header.length; i++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(this.token.header[i]),\n            { header: true, align: this.token.align[i] }\n          );\n        }\n        header += this.renderer.tablerow(cell);\n\n        for (i = 0; i < this.token.cells.length; i++) {\n          row = this.token.cells[i];\n\n          cell = '';\n          for (j = 0; j < row.length; j++) {\n            cell += this.renderer.tablecell(\n              this.inline.output(row[j]),\n              { header: false, align: this.token.align[j] }\n            );\n          }\n\n          body += this.renderer.tablerow(cell);\n        }\n        return this.renderer.table(header, body);\n      }\n      case 'blockquote_start': {\n        body = '';\n\n        while (this.next().type !== 'blockquote_end') {\n          body += this.tok();\n        }\n\n        return this.renderer.blockquote(body);\n      }\n      case 'list_start': {\n        body = '';\n        const ordered = this.token.ordered,\n          start = this.token.start;\n\n        while (this.next().type !== 'list_end') {\n          body += this.tok();\n        }\n\n        return this.renderer.list(body, ordered, start);\n      }\n      case 'list_item_start': {\n        body = '';\n        const loose = this.token.loose;\n        const checked = this.token.checked;\n        const task = this.token.task;\n\n        if (this.token.task) {\n          if (loose) {\n            if (this.peek().type === 'text') {\n              const nextToken = this.peek();\n              nextToken.text = this.renderer.checkbox(checked) + ' ' + nextToken.text;\n            } else {\n              this.tokens.push({\n                type: 'text',\n                text: this.renderer.checkbox(checked)\n              });\n            }\n          } else {\n            body += this.renderer.checkbox(checked);\n          }\n        }\n\n        while (this.next().type !== 'list_item_end') {\n          body += !loose && this.token.type === 'text'\n            ? this.parseText()\n            : this.tok();\n        }\n        return this.renderer.listitem(body, task, checked);\n      }\n      case 'html': {\n        // TODO parse inline content if parameter markdown=1\n        return this.renderer.html(this.token.text);\n      }\n      case 'paragraph': {\n        return this.renderer.paragraph(this.inline.output(this.token.text));\n      }\n      case 'text': {\n        return this.renderer.paragraph(this.parseText());\n      }\n      default: {\n        const errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n        if (this.options.silent) {\n          console.log(errMsg);\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n  };\n};\n","import { createFeatureSelector, createSelector } from '@ngrx/store';\r\nimport { ArticleState, articleFeatureKey } from './article.reducer';\r\n\r\nconst getArticle = createFeatureSelector<ArticleState>(articleFeatureKey);\r\nexport const getArticleData = createSelector(getArticle, (state: ArticleState) => state.data);\r\nexport const getComments = createSelector(getArticle, (state: ArticleState) => state.comments);\r\nexport const getArticleLoaded = createSelector(getArticle, (state: ArticleState) => state.loaded);\r\nexport const getAuthorUsername = createSelector(getArticle, (state: ArticleState) => state.data.author.username);\r\n\r\nexport const articleQuery = {\r\n  getArticleData,\r\n  getComments,\r\n  getArticleLoaded,\r\n  getAuthorUsername,\r\n};\r\n","import { createAction, props } from '@ngrx/store';\nimport { Article, Profile } from '@botmind-test/api';\nimport { Comment } from '../article.interfaces';\n\nexport const loadArticle = createAction('[article] LOAD_ARTICLE', props<{ slug: string }>());\n\nexport const loadArticleSuccess = createAction('[article] LOAD_ARTICLE_SUCCESS', props<{ article: Article }>());\n\nexport const loadArticleFail = createAction('[article] LOAD_ARTICLE_FAIL', props<{ error: Error }>());\n\nexport const deleteArticle = createAction('[article] DELETE_ARTICLE', props<{ slug: string }>());\n\nexport const deleteArticleFail = createAction('[article] DELETE_ARTICLE_FAIL', props<{ error: Error }>());\n\nexport const initializeArticle = createAction('[article] INITIALIZE_ARTICLE');\n\nexport const loadComments = createAction('[article] LOAD_COMMENTS', props<{ slug: string }>());\n\nexport const loadCommentsSuccess = createAction('[article] LOAD_COMMENTS_SUCCESS', props<{ comments: Comment[] }>());\n\nexport const loadCommentsFail = createAction('[article] LOAD_COMMENTS_FAIL', props<{ error: Error }>());\n\nexport const favorite = createAction('[article] FAVORITE', props<{ slug: string }>());\n\nexport const favoriteSuccess = createAction('[article] FAVORITE_SUCCESS', props<{ article: Article }>());\n\nexport const favoriteFail = createAction('[article] FAVORITE_FAIL', props<{ error: Error }>());\n\nexport const unFavorite = createAction('[article] UNFAVORITE', props<{ slug: string }>());\n\nexport const unFavoriteSuccess = createAction('[article] UNFAVORITE_SUCCESS', props<{ article: Article }>());\n\nexport const unFavoriteFail = createAction('[article] UNFAVORITE_FAIL', props<{ error: Error }>());\n\nexport const follow = createAction('[article] FOLLOW', props<{ username: string }>());\n\nexport const followSuccess = createAction('[article] FOLLOW_SUCCESS', props<{ profile: Profile }>());\n\nexport const followFail = createAction('[article] FOLLOW_FAIL', props<{ error: Error }>());\n\nexport const unFollow = createAction('[article] UNFOLLOW', props<{ username: string }>());\n\nexport const unFollowSuccess = createAction('[article] UNFOLLOW_SUCCESS', props<{ profile: Profile }>());\n\nexport const unFollowFail = createAction('[article] UNFOLLOW_FAIL', props<{ error: Error }>());\n\nexport const addComment = createAction('[article] ADD_COMMENT', props<{ slug: string }>());\n\nexport const addCommentFail = createAction('[article] ADD_COMMENT_FAIL', props<{ error: Error }>());\n\nexport const addCommentSuccess = createAction('[article] ADD_COMMENT_SUCCESS', props<{ comment: Comment }>());\n\nexport const deleteComment = createAction('[article] DELETE_COMMENT', props<{ commentId: number; slug: string }>());\n\nexport const deleteCommentFail = createAction('[article] DELETE_COMMENT_FAIL', props<{ error: Error }>());\n\nexport const deleteCommentSuccess = createAction('[article] DELETE_COMMENT_SUCCESS', props<{ commentId: number }>());\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport * as ArticleActions from './article.actions';\r\nimport { ArticleState } from './article.reducer';\r\nimport { articleQuery } from './article.selectors';\r\n\r\n@Injectable()\r\nexport class ArticleFacade {\r\n  article$ = this.store.select(articleQuery.getArticleData);\r\n  comments$ = this.store.select(articleQuery.getComments);\r\n  articleLoaded$ = this.store.select(articleQuery.getArticleLoaded);\r\n  authorUsername$ = this.store.select(articleQuery.getAuthorUsername);\r\n\r\n  constructor(private store: Store<ArticleState>) {}\r\n\r\n  loadArticle(slug: string) {\r\n    this.store.dispatch(ArticleActions.loadArticle({ slug }));\r\n  }\r\n  loadComments(slug: string) {\r\n    this.store.dispatch(ArticleActions.loadComments({ slug }));\r\n  }\r\n  follow(username: string) {\r\n    this.store.dispatch(ArticleActions.follow({ username }));\r\n  }\r\n  unfollow(username: string) {\r\n    this.store.dispatch(ArticleActions.unFollow({ username }));\r\n  }\r\n  favorite(slug: string) {\r\n    this.store.dispatch(ArticleActions.favorite({ slug }));\r\n  }\r\n  unfavorite(slug: string) {\r\n    this.store.dispatch(ArticleActions.unFavorite({ slug }));\r\n  }\r\n  delete(slug: string) {\r\n    this.store.dispatch(ArticleActions.deleteArticle({ slug }));\r\n  }\r\n  deleteComment(data: { commentId: number; slug: string }) {\r\n    this.store.dispatch(ArticleActions.deleteComment(data));\r\n  }\r\n  submit(slug: string) {\r\n    this.store.dispatch(ArticleActions.addComment({ slug }));\r\n  }\r\n  initializeArticle() {\r\n    this.store.dispatch(ArticleActions.initializeArticle());\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, EventEmitter, Output } from '@angular/core';\nimport { Article } from '@botmind-test/api';\n\n@Component({\n  selector: 'app-article-meta',\n  templateUrl: './article-meta.component.html',\n  styleUrls: ['./article-meta.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ArticleMetaComponent {\n  @Input() article: Article;\n  @Input() isAuthenticated: boolean;\n  @Input() canModify: boolean;\n  @Output() follow: EventEmitter<string> = new EventEmitter<string>();\n  @Output() unfollow: EventEmitter<string> = new EventEmitter<string>();\n  @Output() unfavorite: EventEmitter<string> = new EventEmitter();\n  @Output() favorite: EventEmitter<string> = new EventEmitter();\n  @Output() delete: EventEmitter<string> = new EventEmitter();\n\n  toggleFavorite() {\n    if (this.article.favorited) {\n      this.unfavorite.emit(this.article.slug);\n    } else {\n      this.favorite.emit(this.article.slug);\n    }\n  }\n\n  toggleFollow() {\n    if (this.article.author.following) {\n      this.unfollow.emit(this.article.author.username);\n    } else {\n      this.follow.emit(this.article.author.username);\n    }\n  }\n\n  deleteArticle() {\n    this.delete.emit(this.article.slug);\n  }\n}\n","<div class=\"article-meta\">\r\n  <a [routerLink]=\"['/profile', article.author.username]\">\r\n    <img [src]=\"article.author.image\" />\r\n  </a>\r\n  <div class=\"info\">\r\n    <a class=\"author\" [routerLink]=\"['/profile', article.author.username]\">\r\n      {{ article.author.username }}\r\n    </a>\r\n    <span class=\"date\">{{ article.createdAt | date: 'longDate' }}</span>\r\n  </div>\r\n\r\n  <span [hidden]=\"!canModify\">\r\n    <a class=\"btn btn-sm btn-outline-secondary\" [routerLink]=\"['/editor', article.slug]\">\r\n      <i class=\"ion-edit\"></i> Edit Article\r\n    </a>\r\n\r\n    <button class=\"btn btn-sm btn-outline-danger\" (click)=\"deleteArticle()\">\r\n      <i class=\"ion-trash-a\"></i> Delete Article\r\n    </button>\r\n  </span>\r\n\r\n  <span [hidden]=\"canModify\">\r\n    <button\r\n      class=\"btn btn-sm action-btn\"\r\n      [ngClass]=\"{\r\n        'btn-outline-secondary': !article.author.following,\r\n        'btn-secondary': article.author.following\r\n      }\"\r\n      (click)=\"toggleFollow()\"\r\n    >\r\n      <i class=\"ion-plus-round\"></i>\r\n      &nbsp; {{ article.author.following ? 'Unfollow' : 'Follow' }}\r\n      {{ article.author.username }}\r\n    </button>\r\n    &nbsp;&nbsp;\r\n    <button\r\n      class=\"btn btn-sm btn-outline-primary\"\r\n      [ngClass]=\"{\r\n        'btn-outline-primary': !article.favorited,\r\n        'btn-primary': article.favorited\r\n      }\"\r\n      (click)=\"toggleFavorite()\"\r\n    >\r\n      <i class=\"ion-heart\"></i>\r\n      &nbsp; {{ article.favorited ? 'Unfavorite' : 'Favorite' }} Post\r\n      <span class=\"counter\">({{ article.favoritesCount }})</span>\r\n    </button>\r\n  </span>\r\n</div>\r\n","import { ApiService, ProfileResponse, SingleArticleResponse } from '@botmind-test/api';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class ActionsService {\n  constructor(private apiService: ApiService) {}\n\n  followUser(username: string): Observable<ProfileResponse> {\n    return this.apiService.post<ProfileResponse, void>('/profiles/' + username + '/follow', null);\n  }\n\n  unfollowUser(username: string): Observable<ProfileResponse> {\n    return this.apiService.delete<ProfileResponse>('/profiles/' + username + '/follow');\n  }\n\n  favorite(slug: string): Observable<SingleArticleResponse> {\n    return this.apiService.post<SingleArticleResponse, void>('/articles/' + slug + '/favorite', null);\n  }\n\n  unfavorite(slug: string): Observable<SingleArticleResponse> {\n    return this.apiService.delete<SingleArticleResponse>('/articles/' + slug + '/favorite');\n  }\n}\n","/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n\n  /**\n   * Convert string to unique id\n   */\n  slug(value) {\n    let slug = value\n      .toLowerCase()\n      .trim()\n      .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n      .replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      const originalSlug = slug;\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n    this.seen[slug] = 0;\n\n    return slug;\n  };\n};\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, CanActivate } from '@angular/router';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { Observable, of } from 'rxjs';\r\nimport * as fromArticle from './+state/article.reducer';\r\nimport { filter, take, switchMap, tap } from 'rxjs/operators';\r\nimport * as fromActions from './+state/article.actions';\r\nimport { ArticleFacade } from './+state/article.facade';\r\n\r\n@Injectable()\r\nexport class ArticleGuardService implements CanActivate {\r\n  constructor(private facade: ArticleFacade) {}\r\n\r\n  waitForArticleToLoad(): Observable<boolean> {\r\n    return this.facade.articleLoaded$.pipe(\r\n      filter(loaded => loaded),\r\n      take(1),\r\n    );\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> {\r\n    const slug = route.params['slug'];\r\n    this.facade.loadArticle(slug);\r\n\r\n    return this.waitForArticleToLoad().pipe(tap(() => this.facade.loadComments(slug)));\r\n  }\r\n}\r\n","import { Article } from '@botmind-test/api';\nimport { Action, createReducer, on } from '@ngrx/store';\nimport * as ArticleActions from './article.actions';\nimport { Comment } from '../article.interfaces';\n\nexport const articleFeatureKey = 'article';\n\nexport interface ArticleState {\n  data: Article;\n  comments: Comment[];\n  loading: boolean;\n  loaded: boolean;\n}\n\nexport interface ArticleRootState {\n  readonly [articleFeatureKey]: ArticleState;\n}\n\nexport const articleInitialState: ArticleState = {\n  data: {\n    slug: '',\n    title: '',\n    description: '',\n    body: '',\n    tagList: [],\n    createdAt: '',\n    updatedAt: '',\n    favorited: false,\n    favoritesCount: 0,\n    author: {\n      username: '',\n      bio: '',\n      image: '',\n      following: false,\n      loading: false,\n    },\n  },\n  comments: [],\n  loaded: false,\n  loading: false,\n};\n\nconst reducer = createReducer(\n  articleInitialState,\n  on(ArticleActions.loadArticleSuccess, (state, action) => ({\n    ...state,\n    data: action.article,\n    loaded: true,\n    loading: false,\n  })),\n  on(ArticleActions.loadArticleFail, (state) => ({\n    ...state,\n    data: articleInitialState.data,\n    loaded: false,\n    loading: false,\n  })),\n  on(ArticleActions.addCommentSuccess, (state, action) => {\n    const comments: Comment[] = [action.comment, ...state.comments];\n    return { ...state, comments };\n  }),\n  on(ArticleActions.deleteCommentSuccess, (state, action) => {\n    const comments: Comment[] = state.comments.filter((item) => item.id !== action.commentId);\n    return { ...state, comments };\n  }),\n  on(ArticleActions.initializeArticle, (state) => articleInitialState),\n  on(ArticleActions.deleteArticleFail, (state) => articleInitialState),\n  on(ArticleActions.loadCommentsSuccess, (state, action) => ({\n    ...state,\n    comments: action.comments,\n  })),\n  on(ArticleActions.loadCommentsFail, (state) => ({\n    ...state,\n    comments: articleInitialState.comments,\n  })),\n  on(ArticleActions.followSuccess, ArticleActions.unFollowSuccess, (state, action) => {\n    const data: Article = { ...state.data, author: action.profile };\n    return { ...state, data };\n  }),\n  on(ArticleActions.favoriteSuccess, ArticleActions.unFavoriteSuccess, (state, action) => ({\n    ...state,\n    data: action.article,\n  })),\n);\n\nexport function articleReducer(state: ArticleState | undefined, action: Action): ArticleState {\n  return reducer(state, action);\n}\n","const { defaults } = require('./defaults.js');\nconst {\n  cleanUrl,\n  escape\n} = require('./helpers.js');\n\n/**\n * Renderer\n */\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>'\n        + (escaped ? code : escape(code, true))\n        + '</code></pre>';\n    }\n\n    return '<pre><code class=\"'\n      + this.options.langPrefix\n      + escape(lang, true)\n      + '\">'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>\\n';\n  };\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  };\n\n  html(html) {\n    return html;\n  };\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h'\n        + level\n        + ' id=\"'\n        + this.options.headerPrefix\n        + slugger.slug(raw)\n        + '\">'\n        + text\n        + '</h'\n        + level\n        + '>\\n';\n    }\n    // ignore IDs\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  };\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  };\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  };\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  };\n\n  checkbox(checked) {\n    return '<input '\n      + (checked ? 'checked=\"\" ' : '')\n      + 'disabled=\"\" type=\"checkbox\"'\n      + (this.options.xhtml ? ' /' : '')\n      + '> ';\n  };\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  };\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n\n    return '<table>\\n'\n      + '<thead>\\n'\n      + header\n      + '</thead>\\n'\n      + body\n      + '</table>\\n';\n  };\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  };\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align\n      ? '<' + type + ' align=\"' + flags.align + '\">'\n      : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  };\n\n  // span level renderer\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  };\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  };\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  };\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  };\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  };\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n    let out = '<a href=\"' + escape(href) + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += '>' + text + '</a>';\n    return out;\n  };\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  };\n\n  text(text) {\n    return text;\n  };\n};\n","const { defaults } = require('./defaults.js');\nconst { block } = require('./rules.js');\nconst {\n  rtrim,\n  splitCells,\n  escape\n} = require('./helpers.js');\n\n/**\n * Block Lexer\n */\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.rules = block.normal;\n\n    if (this.options.pedantic) {\n      this.rules = block.pedantic;\n    } else if (this.options.gfm) {\n      this.rules = block.gfm;\n    }\n  }\n\n  /**\n   * Expose Block Rules\n   */\n  static get rules() {\n    return block;\n  }\n\n  /**\n   * Static Lex Method\n   */\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  };\n\n  /**\n   * Preprocessing\n   */\n  lex(src) {\n    src = src\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, '    ');\n\n    return this.token(src, true);\n  };\n\n  /**\n   * Lexing\n   */\n  token(src, top) {\n    src = src.replace(/^ +$/gm, '');\n    let next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n    while (src) {\n      // newline\n      if (cap = this.rules.newline.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (cap[0].length > 1) {\n          this.tokens.push({\n            type: 'space'\n          });\n        }\n      }\n\n      // code\n      if (cap = this.rules.code.exec(src)) {\n        const lastToken = this.tokens[this.tokens.length - 1];\n        src = src.substring(cap[0].length);\n        // An indented code block cannot interrupt a paragraph.\n        if (lastToken && lastToken.type === 'paragraph') {\n          lastToken.text += '\\n' + cap[0].trimRight();\n        } else {\n          cap = cap[0].replace(/^ {4}/gm, '');\n          this.tokens.push({\n            type: 'code',\n            codeBlockStyle: 'indented',\n            text: !this.options.pedantic\n              ? rtrim(cap, '\\n')\n              : cap\n          });\n        }\n        continue;\n      }\n\n      // fences\n      if (cap = this.rules.fences.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'code',\n          lang: cap[2] ? cap[2].trim() : cap[2],\n          text: cap[3] || ''\n        });\n        continue;\n      }\n\n      // heading\n      if (cap = this.rules.heading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[1].length,\n          text: cap[2]\n        });\n        continue;\n      }\n\n      // table no leading pipe (gfm)\n      if (cap = this.rules.nptable.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(item.cells[i], item.header.length);\n          }\n\n          this.tokens.push(item);\n\n          continue;\n        }\n      }\n\n      // hr\n      if (cap = this.rules.hr.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'hr'\n        });\n        continue;\n      }\n\n      // blockquote\n      if (cap = this.rules.blockquote.exec(src)) {\n        src = src.substring(cap[0].length);\n\n        this.tokens.push({\n          type: 'blockquote_start'\n        });\n\n        cap = cap[0].replace(/^ *> ?/gm, '');\n\n        // Pass `top` to keep the current\n        // \"toplevel\" state. This is exactly\n        // how markdown.pl works.\n        this.token(cap, top);\n\n        this.tokens.push({\n          type: 'blockquote_end'\n        });\n\n        continue;\n      }\n\n      // list\n      if (cap = this.rules.list.exec(src)) {\n        src = src.substring(cap[0].length);\n        bull = cap[2];\n        isordered = bull.length > 1;\n\n        listStart = {\n          type: 'list_start',\n          ordered: isordered,\n          start: isordered ? +bull : '',\n          loose: false\n        };\n\n        this.tokens.push(listStart);\n\n        // Get each top-level item.\n        cap = cap[0].match(this.rules.item);\n\n        listItems = [];\n        next = false;\n        l = cap.length;\n        i = 0;\n\n        for (; i < l; i++) {\n          item = cap[i];\n\n          // Remove the list item's bullet\n          // so it is seen as the next token.\n          space = item.length;\n          item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n          // Outdent whatever the\n          // list item contains. Hacky.\n          if (~item.indexOf('\\n ')) {\n            space -= item.length;\n            item = !this.options.pedantic\n              ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n              : item.replace(/^ {1,4}/gm, '');\n          }\n\n          // Determine whether the next list item belongs here.\n          // Backpedal if it does not belong in this list.\n          if (i !== l - 1) {\n            b = block.bullet.exec(cap[i + 1])[0];\n            if (bull.length > 1 ? b.length === 1\n              : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n              src = cap.slice(i + 1).join('\\n') + src;\n              i = l - 1;\n            }\n          }\n\n          // Determine whether item is loose or not.\n          // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n          // for discount behavior.\n          loose = next || /\\n\\n(?!\\s*$)/.test(item);\n          if (i !== l - 1) {\n            next = item.charAt(item.length - 1) === '\\n';\n            if (!loose) loose = next;\n          }\n\n          if (loose) {\n            listStart.loose = true;\n          }\n\n          // Check for task list items\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n\n          t = {\n            type: 'list_item_start',\n            task: istask,\n            checked: ischecked,\n            loose: loose\n          };\n\n          listItems.push(t);\n          this.tokens.push(t);\n\n          // Recurse.\n          this.token(item, false);\n\n          this.tokens.push({\n            type: 'list_item_end'\n          });\n        }\n\n        if (listStart.loose) {\n          l = listItems.length;\n          i = 0;\n          for (; i < l; i++) {\n            listItems[i].loose = true;\n          }\n        }\n\n        this.tokens.push({\n          type: 'list_end'\n        });\n\n        continue;\n      }\n\n      // html\n      if (cap = this.rules.html.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: this.options.sanitize\n            ? 'paragraph'\n            : 'html',\n          pre: !this.options.sanitizer\n            && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n          text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]\n        });\n        continue;\n      }\n\n      // def\n      if (top && (cap = this.rules.def.exec(src))) {\n        src = src.substring(cap[0].length);\n        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n        tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n        if (!this.tokens.links[tag]) {\n          this.tokens.links[tag] = {\n            href: cap[2],\n            title: cap[3]\n          };\n        }\n        continue;\n      }\n\n      // table (gfm)\n      if (cap = this.rules.table.exec(src)) {\n        item = {\n          type: 'table',\n          header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n          align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n          cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n        };\n\n        if (item.header.length === item.align.length) {\n          src = src.substring(cap[0].length);\n\n          for (i = 0; i < item.align.length; i++) {\n            if (/^ *-+: *$/.test(item.align[i])) {\n              item.align[i] = 'right';\n            } else if (/^ *:-+: *$/.test(item.align[i])) {\n              item.align[i] = 'center';\n            } else if (/^ *:-+ *$/.test(item.align[i])) {\n              item.align[i] = 'left';\n            } else {\n              item.align[i] = null;\n            }\n          }\n\n          for (i = 0; i < item.cells.length; i++) {\n            item.cells[i] = splitCells(\n              item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n              item.header.length);\n          }\n\n          this.tokens.push(item);\n\n          continue;\n        }\n      }\n\n      // lheading\n      if (cap = this.rules.lheading.exec(src)) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'heading',\n          depth: cap[2].charAt(0) === '=' ? 1 : 2,\n          text: cap[1]\n        });\n        continue;\n      }\n\n      // top-level paragraph\n      if (top && (cap = this.rules.paragraph.exec(src))) {\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'paragraph',\n          text: cap[1].charAt(cap[1].length - 1) === '\\n'\n            ? cap[1].slice(0, -1)\n            : cap[1]\n        });\n        continue;\n      }\n\n      // text\n      if (cap = this.rules.text.exec(src)) {\n        // Top-level should never reach here.\n        src = src.substring(cap[0].length);\n        this.tokens.push({\n          type: 'text',\n          text: cap[0]\n        });\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return this.tokens;\n  };\n};\n","import { Component, Input, ChangeDetectionStrategy, EventEmitter, Output } from '@angular/core';\nimport { Article, User } from '@botmind-test/api';\nimport { Comment } from '../article.interfaces';\n\n@Component({\n  selector: 'app-article-comment',\n  templateUrl: './article-comment.component.html',\n  styleUrls: ['./article-comment.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ArticleCommentComponent {\n  @Input() currentUser: User;\n  @Input() comment: Comment;\n  @Input() article: Article;\n  @Output() delete: EventEmitter<{\n    commentId: number;\n    slug: string;\n  }> = new EventEmitter();\n}\n","<div class=\"card\">\r\n  <div class=\"card-block\">\r\n    <p class=\"card-text\">{{ comment.body }}</p>\r\n  </div>\r\n  <div class=\"card-footer\">\r\n    <a class=\"comment-author\" [routerLink]=\"['/profile', comment.author.username]\">\r\n      <img [src]=\"comment.author.image\" class=\"comment-author-img\" />\r\n    </a>\r\n    &nbsp;\r\n    <a class=\"comment-author\" [routerLink]=\"['/profile', comment.author.username]\">\r\n      {{ comment.author.username }}\r\n    </a>\r\n    <span class=\"date-posted\">\r\n      {{ comment.createdAt | date: 'longDate' }}\r\n    </span>\r\n    <span class=\"mod-options\" [hidden]=\"currentUser.username !== comment.author.username\">\r\n      <i class=\"ion-trash-a\" (click)=\"delete.emit({ commentId: comment.id, slug: article.slug })\"></i>\r\n    </span>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PagerComponent } from './pager/pager.component';\r\nimport { ActionsService } from './actions.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [PagerComponent],\r\n  exports: [PagerComponent],\r\n  providers: [ActionsService],\r\n})\r\nexport class SharedModule {}\r\n","import { Article, User } from '@botmind-test/api';\nimport { AuthFacade } from '@botmind-test/auth';\nimport { Field, NgrxFormsFacade } from '@botmind-test/ngrx-forms';\nimport { ChangeDetectionStrategy, Component, OnDestroy, OnInit } from '@angular/core';\nimport { Observable, Subject, combineLatest } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { Comment } from './article.interfaces';\nimport { ArticleFacade } from './+state/article.facade';\n\nconst structure: Field[] = [\n  {\n    type: 'TEXTAREA',\n    name: 'comment',\n    placeholder: 'Write a comment...',\n    attrs: {\n      rows: 3,\n    },\n  },\n];\n\n@Component({\n  selector: 'app-article',\n  templateUrl: './article.component.html',\n  styleUrls: ['./article.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ArticleComponent implements OnInit, OnDestroy {\n  article$: Observable<Article>;\n  comments$: Observable<Comment[]>;\n  canModify = false;\n  isAuthenticated$: Observable<boolean>;\n  structure$: Observable<Field[]>;\n  data$: Observable<any>;\n  unsubscribe$ = new Subject<void>();\n  currentUser$: Observable<User>;\n  touchedForm$: Observable<boolean>;\n\n  constructor(\n    private ngrxFormsFacade: NgrxFormsFacade,\n    private facade: ArticleFacade,\n    private authFacade: AuthFacade,\n  ) {}\n\n  ngOnInit() {\n    this.article$ = this.facade.article$;\n    this.comments$ = this.facade.comments$;\n    this.isAuthenticated$ = this.authFacade.isLoggedIn$;\n    this.currentUser$ = this.authFacade.user$;\n    this.data$ = this.ngrxFormsFacade.data$;\n    this.structure$ = this.ngrxFormsFacade.structure$;\n    this.touchedForm$ = this.ngrxFormsFacade.touched$;\n\n    this.ngrxFormsFacade.setStructure(structure);\n    this.ngrxFormsFacade.setData('');\n    this.authFacade.auth$\n      .pipe(\n        filter((auth) => auth.loggedIn),\n        (auth$) => combineLatest([auth$, this.facade.authorUsername$]),\n        takeUntil(this.unsubscribe$),\n      )\n      .subscribe(([auth, username]) => {\n        this.canModify = auth.user.username === username;\n      });\n  }\n\n  follow(username: string) {\n    this.facade.follow(username);\n  }\n  unfollow(username: string) {\n    this.facade.unfollow(username);\n  }\n  favorite(slug: string) {\n    this.facade.favorite(slug);\n  }\n  unfavorite(slug: string) {\n    this.facade.unfavorite(slug);\n  }\n  delete(slug: string) {\n    this.facade.delete(slug);\n  }\n  deleteComment(data: { commentId: number; slug: string }) {\n    this.facade.deleteComment(data);\n  }\n  submit(slug: string) {\n    this.facade.submit(slug);\n  }\n  updateForm(changes: any) {\n    this.ngrxFormsFacade.updateData(changes);\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    this.facade.initializeArticle();\n  }\n}\n","<div class=\"article-page\">\r\n  <div class=\"banner\">\r\n    <div class=\"container\">\r\n      <h1 data-e2e-id=\"article-title\">{{ (article$ | async).title }}</h1>\r\n      <app-article-meta\r\n        [article]=\"article$ | async\"\r\n        (follow)=\"follow($event)\"\r\n        (unfollow)=\"unfollow($event)\"\r\n        (favorite)=\"favorite($event)\"\r\n        (unfavorite)=\"unfavorite($event)\"\r\n        (delete)=\"delete($event)\"\r\n        [canModify]=\"canModify\"\r\n      >\r\n      </app-article-meta>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container page\">\r\n    <div class=\"row article-content\">\r\n      <div class=\"col-md-12\">\r\n        <div [innerHTML]=\"(article$ | async)?.body | markdown\"></div>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"article-actions\">\r\n      <app-article-meta\r\n        [article]=\"article$ | async\"\r\n        (follow)=\"follow($event)\"\r\n        (unfollow)=\"unfollow($event)\"\r\n        (favorite)=\"favorite($event)\"\r\n        (unfavorite)=\"unfavorite($event)\"\r\n        (delete)=\"delete($event)\"\r\n        [canModify]=\"canModify\"\r\n      ></app-article-meta>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-xs-12 col-md-8 offset-md-2\">\r\n        <app-add-comment\r\n          *ngIf=\"isAuthenticated$ | async\"\r\n          [article]=\"article$ | async\"\r\n          [data$]=\"data$\"\r\n          [structure$]=\"structure$\"\r\n          [currentUser]=\"currentUser$ | async\"\r\n          [touchedForm$]=\"touchedForm$\"\r\n          (submitComment)=\"submit($event)\"\r\n          (updateForm)=\"updateForm($event)\"\r\n        >\r\n        </app-add-comment>\r\n\r\n        <div *ngIf=\"(isAuthenticated$ | async) === false\">\r\n          <a [routerLink]=\"['/login']\">Sign in</a> or <a [routerLink]=\"['/register']\">sign up</a> to add comments on\r\n          this article.\r\n        </div>\r\n\r\n        <app-article-comment\r\n          *ngFor=\"let comment of comments$ | async\"\r\n          [currentUser]=\"currentUser$ | async\"\r\n          (delete)=\"deleteComment($event)\"\r\n          [article]=\"article$ | async\"\r\n          [comment]=\"comment\"\r\n        ></app-article-comment>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","const {\n  noopTest,\n  edit,\n  merge\n} = require('./helpers.js');\n\n/**\n * Block-Level Grammar\n */\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: /^ {0,3}(`{3,}|~{3,})([^`~\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block._paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', ' {0,3}#{1,6} +')\n  .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n  .replace('blockquote', ' {0,3}>')\n  .replace('fences', ' {0,3}(?:`{3,}|~{3,})[^`\\\\n]*\\\\n')\n  .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n  .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)')\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  fences: noopTest, // fences not supported\n  paragraph: edit(block.normal._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' *#{1,6} *[^\\n]')\n    .replace('lheading', block.lheading)\n    .replace('blockquote', ' {0,3}>')\n    .replace('|fences', '')\n    .replace('|list', '')\n    .replace('|html', '')\n    .getRegex()\n});\n\n/**\n * Inline-Level Grammar\n */\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*<\\[])\\*(?!\\*)|^_([^\\s<][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\*])\\*(?!\\*|[^\\spunctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text)\n    .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n    .replace(/\\{2,\\}/g, '*')\n    .getRegex()\n});\n\nmodule.exports = {\n  block,\n  inline\n};\n","import { NgrxFormsModule } from '@botmind-test/ngrx-forms';\nimport { SharedModule } from '@botmind-test/shared';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\n\nimport { ArticleEffects } from './+state/article.effects';\nimport { ArticleFacade } from './+state/article.facade';\nimport { articleInitialState, articleReducer, articleFeatureKey } from './+state/article.reducer';\nimport { AddCommentComponent } from './add-comment/add-comment.component';\nimport { ArticleCommentComponent } from './article-comment/article-comment.component';\nimport { ArticleGuardService } from './article-guard.service';\nimport { ArticleMetaComponent } from './article-meta/article-meta.component';\nimport { ArticleComponent } from './article.component';\nimport { ArticleService } from './article.service';\nimport { MarkdownPipe } from './markdown.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ArticleComponent,\n        canActivate: [ArticleGuardService],\n      },\n    ]),\n    StoreModule.forFeature(articleFeatureKey, articleReducer, {\n      initialState: articleInitialState,\n    }),\n    EffectsModule.forFeature([ArticleEffects]),\n    NgrxFormsModule,\n    SharedModule,\n  ],\n  providers: [ArticleEffects, ArticleService, ArticleGuardService, ArticleFacade],\n  declarations: [ArticleComponent, ArticleMetaComponent, ArticleCommentComponent, MarkdownPipe, AddCommentComponent],\n})\nexport class ArticleModule {}\n","const Renderer = require('./Renderer.js');\nconst { defaults } = require('./defaults.js');\nconst { inline } = require('./rules.js');\nconst {\n  findClosingBracket,\n  escape\n} = require('./helpers.js');\n\n/**\n * Inline Lexer & Compiler\n */\nmodule.exports = class InlineLexer {\n  constructor(links, options) {\n    this.options = options || defaults;\n    this.links = links;\n    this.rules = inline.normal;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n\n    if (!this.links) {\n      throw new Error('Tokens array requires a `links` property.');\n    }\n\n    if (this.options.pedantic) {\n      this.rules = inline.pedantic;\n    } else if (this.options.gfm) {\n      if (this.options.breaks) {\n        this.rules = inline.breaks;\n      } else {\n        this.rules = inline.gfm;\n      }\n    }\n  }\n\n  /**\n   * Expose Inline Rules\n   */\n  static get rules() {\n    return inline;\n  }\n\n  /**\n   * Static Lexing/Compiling Method\n   */\n  static output(src, links, options) {\n    const inline = new InlineLexer(links, options);\n    return inline.output(src);\n  }\n\n  /**\n   * Lexing/Compiling\n   */\n  output(src) {\n    let out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n    while (src) {\n      // escape\n      if (cap = this.rules.escape.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += escape(cap[1]);\n        continue;\n      }\n\n      // tag\n      if (cap = this.rules.tag.exec(src)) {\n        if (!this.inLink && /^<a /i.test(cap[0])) {\n          this.inLink = true;\n        } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n          this.inLink = false;\n        }\n        if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = true;\n        } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n          this.inRawBlock = false;\n        }\n\n        src = src.substring(cap[0].length);\n        out += this.options.sanitize\n          ? this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape(cap[0])\n          : cap[0];\n        continue;\n      }\n\n      // link\n      if (cap = this.rules.link.exec(src)) {\n        const lastParenIndex = findClosingBracket(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n        src = src.substring(cap[0].length);\n        this.inLink = true;\n        href = cap[2];\n        if (this.options.pedantic) {\n          link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n          if (link) {\n            href = link[1];\n            title = link[3];\n          } else {\n            title = '';\n          }\n        } else {\n          title = cap[3] ? cap[3].slice(1, -1) : '';\n        }\n        href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n        out += this.outputLink(cap, {\n          href: InlineLexer.escapes(href),\n          title: InlineLexer.escapes(title)\n        });\n        this.inLink = false;\n        continue;\n      }\n\n      // reflink, nolink\n      if ((cap = this.rules.reflink.exec(src))\n          || (cap = this.rules.nolink.exec(src))) {\n        src = src.substring(cap[0].length);\n        link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n        link = this.links[link.toLowerCase()];\n        if (!link || !link.href) {\n          out += cap[0].charAt(0);\n          src = cap[0].substring(1) + src;\n          continue;\n        }\n        this.inLink = true;\n        out += this.outputLink(cap, link);\n        this.inLink = false;\n        continue;\n      }\n\n      // strong\n      if (cap = this.rules.strong.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      }\n\n      // em\n      if (cap = this.rules.em.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n        continue;\n      }\n\n      // code\n      if (cap = this.rules.code.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.codespan(escape(cap[2].trim(), true));\n        continue;\n      }\n\n      // br\n      if (cap = this.rules.br.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.br();\n        continue;\n      }\n\n      // del (gfm)\n      if (cap = this.rules.del.exec(src)) {\n        src = src.substring(cap[0].length);\n        out += this.renderer.del(this.output(cap[1]));\n        continue;\n      }\n\n      // autolink\n      if (cap = this.rules.autolink.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (cap[2] === '@') {\n          text = escape(this.mangle(cap[1]));\n          href = 'mailto:' + text;\n        } else {\n          text = escape(cap[1]);\n          href = text;\n        }\n        out += this.renderer.link(href, null, text);\n        continue;\n      }\n\n      // url (gfm)\n      if (!this.inLink && (cap = this.rules.url.exec(src))) {\n        if (cap[2] === '@') {\n          text = escape(cap[0]);\n          href = 'mailto:' + text;\n        } else {\n          // do extended autolink path validation\n          do {\n            prevCapZero = cap[0];\n            cap[0] = this.rules._backpedal.exec(cap[0])[0];\n          } while (prevCapZero !== cap[0]);\n          text = escape(cap[0]);\n          if (cap[1] === 'www.') {\n            href = 'http://' + text;\n          } else {\n            href = text;\n          }\n        }\n        src = src.substring(cap[0].length);\n        out += this.renderer.link(href, null, text);\n        continue;\n      }\n\n      // text\n      if (cap = this.rules.text.exec(src)) {\n        src = src.substring(cap[0].length);\n        if (this.inRawBlock) {\n          out += this.renderer.text(this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0])) : cap[0]);\n        } else {\n          out += this.renderer.text(escape(this.smartypants(cap[0])));\n        }\n        continue;\n      }\n\n      if (src) {\n        throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n      }\n    }\n\n    return out;\n  }\n\n  static escapes(text) {\n    return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n  }\n\n  /**\n   * Compile Link\n   */\n  outputLink(cap, link) {\n    const href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n    return cap[0].charAt(0) !== '!'\n      ? this.renderer.link(href, title, this.output(cap[1]))\n      : this.renderer.image(href, title, escape(cap[1]));\n  }\n\n  /**\n   * Smartypants Transformations\n   */\n  smartypants(text) {\n    if (!this.options.smartypants) return text;\n    return text\n      // em-dashes\n      .replace(/---/g, '\\u2014')\n      // en-dashes\n      .replace(/--/g, '\\u2013')\n      // opening singles\n      .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n      // closing singles & apostrophes\n      .replace(/'/g, '\\u2019')\n      // opening doubles\n      .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n      // closing doubles\n      .replace(/\"/g, '\\u201d')\n      // ellipses\n      .replace(/\\.{3}/g, '\\u2026');\n  }\n\n  /**\n   * Mangle Links\n   */\n  mangle(text) {\n    if (!this.options.mangle) return text;\n    const l = text.length;\n    let out = '',\n      i = 0,\n      ch;\n\n    for (; i < l; i++) {\n      ch = text.charCodeAt(i);\n      if (Math.random() > 0.5) {\n        ch = 'x' + ch.toString(16);\n      }\n      out += '&#' + ch + ';';\n    }\n\n    return out;\n  }\n};\n","import { Component, OnInit, Output, EventEmitter, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pager',\r\n  templateUrl: './pager.component.html',\r\n  styleUrls: ['./pager.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class PagerComponent {\r\n  @Input() currentPage: number;\r\n  @Input() totalPages: number;\r\n  @Output() setPage: EventEmitter<number> = new EventEmitter();\r\n}\r\n","<ul class=\"pagination\">\r\n  <li\r\n    class=\"page-item\"\r\n    [ngClass]=\"{ active: pageNumber === currentPage }\"\r\n    *ngFor=\"let pageNumber of totalPages\"\r\n    (click)=\"setPage.emit(pageNumber)\"\r\n  >\r\n    <a class=\"page-link\">{{ pageNumber }}</a>\r\n  </li>\r\n</ul>\r\n","/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation\n};\n","import { Article, User } from '@botmind-test/api';\nimport { Field } from '@botmind-test/ngrx-forms';\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-add-comment',\n  templateUrl: './add-comment.component.html',\n  styleUrls: ['./add-comment.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AddCommentComponent {\n  @Input() article: Article;\n  @Input() currentUser: User;\n  @Input() data$: Observable<any>;\n  @Input() structure$: Observable<Field[]>;\n  @Input() touchedForm$: Observable<boolean>;\n  @Output() submitComment: EventEmitter<string> = new EventEmitter();\n  @Output() updateForm: EventEmitter<any> = new EventEmitter();\n}\n","<app-list-errors> </app-list-errors>\r\n\r\n<div class=\"card comment-form\">\r\n  <app-dynamic-form\r\n    class=\"card-block\"\r\n    (updateForm)=\"updateForm.emit($event)\"\r\n    [data$]=\"data$\"\r\n    [structure$]=\"structure$\"\r\n    [touchedForm$]=\"touchedForm$\"\r\n  >\r\n  </app-dynamic-form>\r\n  <div class=\"card-footer\">\r\n    <img [src]=\"currentUser.image\" class=\"comment-author-img\" />\r\n    <button (click)=\"submitComment.emit(article.slug)\" class=\"btn btn-sm btn-primary\" type=\"submit\">\r\n      Post Comment\r\n    </button>\r\n  </div>\r\n</div>\r\n","function getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as marked from 'marked';\r\n\r\n@Pipe({ name: 'markdown' })\r\nexport class MarkdownPipe implements PipeTransform {\r\n  transform(content: string): string {\r\n    return marked(content, { sanitize: true });\r\n  }\r\n}\r\n"]}
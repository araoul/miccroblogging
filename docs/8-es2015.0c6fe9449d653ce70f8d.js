(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{QpK0:function(t,e,s){"use strict";s.r(e),s.d(e,"HomeModule",function(){return D});var i=s("CWEr"),n=s("ofXK"),c=s("tyNb"),a=s("9jGm"),o=s("l7P3"),b=s("LRne"),r=s("eIep"),l=s("lJxs"),g=s("JIr8"),u=s("A47K"),f=s("fXoL");let p=(()=>{class t{constructor(t){this.apiService=t}getTags(){return this.apiService.get("/tags")}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(u.b))},t.\u0275prov=f.Eb({token:t,factory:t.\u0275fac}),t})();const h=Object(o.n)("[home] LOAD_TAGS"),L=Object(o.n)("[home] LOAD_TAGS_SUCCESS",Object(o.s)()),d=Object(o.n)("[home] LOAD_TAGS_FAIL",Object(o.s)());let j=(()=>{class t{constructor(t,e){this.actions$=t,this.homeService=e,this.loadTags$=Object(a.c)(()=>this.actions$.pipe(Object(a.d)(h),Object(r.a)(()=>this.homeService.getTags().pipe(Object(l.a)(t=>L({tags:t.tags})),Object(g.a)(t=>Object(b.a)(d(t)))))))}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(a.a),f.Qb(p))},t.\u0275prov=f.Eb({token:t,factory:t.\u0275fac}),t})();const v={tags:[]},O=Object(o.p)(v,Object(o.r)(L,(t,e)=>Object.assign(Object.assign({},t),{tags:e.tags})),Object(o.r)(d,(t,e)=>Object.assign(Object.assign({},t),{tags:[]})));function m(t,e){return O(t,e)}const y=Object(o.o)("home"),T={getTags:Object(o.q)(y,t=>t.tags),getHome:y};let C=(()=>{class t{constructor(t){this.store=t,this.home$=this.store.select(T.getHome),this.tags$=this.store.select(T.getTags)}loadTags(){this.store.dispatch(h())}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(o.h))},t.\u0275prov=f.Eb({token:t,factory:t.\u0275fac}),t})(),M=(()=>{class t{constructor(t){this.facade=t}resolve(t,e){return this.facade.loadTags(),Object(b.a)(!0)}}return t.\u0275fac=function(e){return new(e||t)(f.Qb(C))},t.\u0275prov=f.Eb({token:t,factory:t.\u0275fac}),t})();var $=s("XNiG"),k=s("1G5W"),F=s("gy9y"),w=s("qm0p");function A(t,e){if(1&t){const t=f.Nb();f.Mb(0,"a",2),f.Tb("click",function(){f.ec(t);const s=e.$implicit;return f.Vb().setListTag.emit(s)}),f.jc(1),f.Lb()}if(2&t){const t=e.$implicit;f.yb(1),f.kc(t)}}let E=(()=>{class t{constructor(){this.setListTag=new f.n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Cb({type:t,selectors:[["app-tags-list"]],inputs:{tags:"tags"},outputs:{setListTag:"setListTag"},decls:4,vars:1,consts:[[1,"tag-list"],["class","tag-pill tag-default",3,"click",4,"ngFor","ngForOf"],[1,"tag-pill","tag-default",3,"click"]],template:function(t,e){1&t&&(f.Mb(0,"p"),f.jc(1,"Popular Tags"),f.Lb(),f.Mb(2,"div",0),f.ic(3,A,2,1,"a",1),f.Lb()),2&t&&(f.yb(3),f.Zb("ngForOf",e.tags))},directives:[n.k],styles:[""],changeDetection:0}),t})();const S=function(t){return{active:t}};let X=(()=>{class t{constructor(t,e,s,i){this.facade=t,this.router=e,this.articleListFacade=s,this.authFacade=i,this.unsubscribe$=new $.a}ngOnInit(){this.authFacade.isLoggedIn$.pipe(Object(k.a)(this.unsubscribe$)).subscribe(t=>{this.isAuthenticated=t,this.getArticles()}),this.listConfig$=this.articleListFacade.listConfig$,this.tags$=this.facade.tags$}setListTo(t="ALL"){this.articleListFacade.setListConfig(Object.assign(Object.assign({},i.c.listConfig),{type:t}))}getArticles(){this.setListTo(this.isAuthenticated?"FEED":"ALL")}setListTag(t){this.articleListFacade.setListConfig(Object.assign(Object.assign({},i.c.listConfig),{filters:Object.assign(Object.assign({},i.c.listConfig.filters),{tag:t})}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return t.\u0275fac=function(e){return new(e||t)(f.Ib(C),f.Ib(c.e),f.Ib(i.a),f.Ib(F.a))},t.\u0275cmp=f.Cb({type:t,selectors:[["app-home"]],decls:32,vars:21,consts:[[1,"home-page"],[1,"banner"],[1,"container"],[1,"logo-font"],[1,"container","page"],[1,"row"],[1,"col-md-9"],[1,"feed-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"],[1,"nav-item",3,"hidden"],[1,"nav-link","active"],[1,"ion-pound"],[1,"col-md-3"],[1,"sidebar"],[3,"tags","setListTag"]],template:function(t,e){if(1&t&&(f.Mb(0,"div",0),f.Mb(1,"div",1),f.Mb(2,"div",2),f.Mb(3,"h1",3),f.jc(4,"microblogging"),f.Lb(),f.Mb(5,"p"),f.jc(6,"A place to share your knowledge."),f.Lb(),f.Lb(),f.Lb(),f.Mb(7,"div",4),f.Mb(8,"div",5),f.Mb(9,"div",6),f.Mb(10,"div",7),f.Mb(11,"ul",8),f.Mb(12,"li",9),f.Mb(13,"a",10),f.Tb("click",function(){return e.setListTo("FEED")}),f.Wb(14,"async"),f.jc(15,"Your Feed"),f.Lb(),f.Lb(),f.Mb(16,"li",9),f.Mb(17,"a",10),f.Tb("click",function(){return e.setListTo("ALL")}),f.Wb(18,"async"),f.Wb(19,"async"),f.jc(20,"Global Feed"),f.Lb(),f.Lb(),f.Mb(21,"li",11),f.Wb(22,"async"),f.Mb(23,"a",12),f.Jb(24,"i",13),f.jc(25),f.Wb(26,"async"),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Jb(27,"app-article-list"),f.Lb(),f.Mb(28,"div",14),f.Mb(29,"div",15),f.Mb(30,"app-tags-list",16),f.Tb("setListTag",function(t){return e.setListTag(t)}),f.Wb(31,"async"),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Lb()),2&t){let t=null,s=null;f.yb(13),f.Zb("ngClass",f.bc(17,S,"FEED"===(null==(t=f.Xb(14,5,e.listConfig$))?null:t.type))),f.yb(4),f.Zb("ngClass",f.bc(19,S,"ALL"===(null==(s=f.Xb(18,7,e.listConfig$))?null:s.type)&&!(null!=f.Xb(19,9,e.listConfig$).filters&&f.Xb(19,9,e.listConfig$).filters.tag))),f.yb(4),f.Zb("hidden",!(null!=f.Xb(22,11,e.listConfig$).filters&&f.Xb(22,11,e.listConfig$).filters.tag)),f.yb(4),f.lc(" ",null==f.Xb(26,13,e.listConfig$).filters?null:f.Xb(26,13,e.listConfig$).filters.tag," "),f.yb(5),f.Zb("tags",f.Xb(31,15,e.tags$))}},directives:[n.j,w.a,E],pipes:[n.b],styles:[".nav-link[_ngcontent-%COMP%], .tag-pill[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t})(),D=(()=>{class t{}return t.\u0275mod=f.Gb({type:t}),t.\u0275inj=f.Fb({factory:function(e){return new(e||t)},providers:[j,M,p,C],imports:[[n.c,i.b,c.h.forChild([{path:"",pathMatch:"full",component:X,resolve:{HomeResolverService:M}}]),o.j.forFeature("home",m,{initialState:v}),a.b.forFeature([j])]]}),t})()}}]);